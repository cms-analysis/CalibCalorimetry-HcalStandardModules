process HFLIHGTCALRAND = {

//include "CalibCalorimetry/Configuration/data/Hcal_FrontierConditions.cff"

include "CondCore/DBCommon/data/CondDBSetup.cfi"

es_module hcal_db_producer = HcalDbProducer {
         untracked vstring dump = {""}
         untracked string file = ""
}

es_source es_pool = PoolDBESSource { 
      using CondDBSetup
      string connect = "frontier://FrontierProd/CMS_COND_21X_HCAL"
      string timetype = "runnumber"    
      untracked uint32 authenticationMethod = 0
           VPSet toGet = {
                    {string record = "HcalPedestalsRcd"
                     string tag    = "hcal_pedestals_fC_v7.00_offline"
                    },
                    {string record = "HcalPedestalWidthsRcd"
                     string tag =    "hcal_widths_fC_v7.00_offline" 
                    },
                    {string record = "HcalGainsRcd"
                     string tag =    "hcal_gains_v2.07_offline"
                     //string tag =    "hcal_gains_v2.03_cosMoff_HBflat_7.5kV_max8.5kV_HF1250"
                     //string tag =    "hcal_gains_v2.03_cosMoff_HBflat_7.5kV_max8.5kV_HF1250"
                     //string tag =    "hcal_gains_v2.03_cosMoff_HBflat_7.5kV_max8.5kV_HF1350"
                    },
                    {string record = "HcalQIEDataRcd"
                     string tag =    "qie_normalmode_v6.01"
                    },
                    {string record = "HcalElectronicsMapRcd"
                     string tag =    "official_emap_v5_080208"
                    }
                  }
             }
es_source es_hardcode = HcalHardcodeCalibrations {untracked vstring toGet = 
	  {"GainWidths", "ChannelQuality", "ZSThresholds", "RespCorrs"}}

        untracked PSet maxEvents = {untracked int32 input = -1}
        source = HcalTBSource {
                untracked vstring fileNames = {'file:/bigspool/usc/USC_044210.root'}

                untracked vstring streams = { 'HCAL_DCC718','HCAL_DCC719','HCAL_DCC720',
		    'HCAL_DCC721','HCAL_DCC722','HCAL_DCC723' }
	}

// unpacker
        module hcalDigis = HcalRawToDigi {
                int32 firstSample = 0
                int32 lastSample = 9
                untracked bool UnpackCalib = true
                bool FilterDataQuality = true
                InputTag InputLabel = source
        }

// analysis 
        module LightCalRand = HFLightCalRand {
               untracked string rootFile = "hf_LightCalRand044210.root"
               untracked string textFile = "hf_LightCalRand044210.txt"
        }

        path p = { hcalDigis, LightCalRand}

}		
